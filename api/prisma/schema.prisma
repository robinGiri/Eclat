// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Product {
  id            Int      @id @default(autoincrement())
  name          String
  slug          String
  description   String?
  category      String?
  brands        Brand[]
  price         Float?
  discount      Float?
  afterdiscount Float?
  seller        Seller   @relation(fields: [sellerId], references: [id])
  isFeatured    Boolean
  tags          String?
  stock         Stock    @relation(fields: [stockId], references: [id])
  status        String?
  viewCount     Int?
  createdAt     DateTime @default(now())
  updateAt      DateTime @updatedAt
  images        Image[] // Corrected field to represent the relation
  sellerId      Int
  stockId       Int
}

model Image {
  id        Int     @id @default(autoincrement())
  url       String
  // Add any other fields related to the image
  productId Int
  product   Product @relation(fields: [productId], references: [id])
}

model Brand {
  id   Int     @id @default(autoincrement())
  name String?

  Product   Product? @relation(fields: [productId], references: [id])
  productId Int?
}

model Seller {
  id      Int       @id @default(autoincrement())
  name    String?
  Product Product[]
}

model Stock {
  id        Int       @id @default(autoincrement())
  quantity  Int
  productId Int
  Product   Product[]
}
